/**
 * æ¥šéŸµ - æ–‡å­—æŒ‘æˆ˜æ¸¸æˆé€»è¾‘æ¨¡å—
 * å¯¹åº”é¡µé¢ï¼štemplates/game.html
 */

// ==================== é¢˜åº“æ•°æ® (50é¢˜) ====================
const fullQuestionLibrary = [
    // --- æ¥šæ–‡å­—/è¯­è¨€ç±» (10é¢˜) ---
    { visual: 'â™›', question: 'æ­¤å­—è§äºæ¥šç³»å®˜å°ï¼Œæ„ä¸ºâ€œæŒç®¡å†›æ”¿ä¹‹å®˜â€ï¼Œè¯·é—®æ˜¯ï¼Ÿ', options: ['ç‹', 'å¸', 'é©¬', 'å·¥'], answer: 1, explanation: 'ã€å¸ã€‘å³â€œå¸é©¬â€ã€‚æ¥šå›½å®˜åˆ¶ä¸­ï¼Œå¸é©¬æŒç®¡å†›èµ‹ã€‚' },
    { visual: 'é¸Ÿ', question: 'æ¥šå›½å…µå™¨ä¸Šå¸¸å‡ºç°çš„ä¸€ç§è£…é¥°æ€§æå¼ºçš„ç¾æœ¯å­—ä½“æ˜¯ï¼Ÿ', options: ['ç˜¦é‡‘ä½“', 'é¸Ÿè™«ä¹¦', 'ç”²éª¨æ–‡', 'å°ç¯†'], answer: 1, explanation: 'ã€é¸Ÿè™«ä¹¦ã€‘æµè¡Œäºæ˜¥ç§‹æˆ˜å›½å—æ–¹çš„ç¾æœ¯å­—ä½“ï¼Œå¸¸ç”¨äºå…µå™¨é“­æ–‡ã€‚' },
    { visual: 'å†·', question: 'æ¥šæ–¹è¨€ä¸­ï¼Œâ€œä¸ç©€(gÇ”)â€æ˜¯å“ªç§äººçš„è‡ªç§°ï¼Ÿ', options: ['å†œå¤«', 'å›½å›', 'å•†äºº', 'å£«å…µ'], answer: 1, explanation: 'ã€å›½å›ã€‘â€œä¸ç©€â€æ„ä¸ºä¸å–„ï¼Œæ˜¯æ¥šç‹è‡ªè°¦çš„ç§°å‘¼ï¼Œç±»ä¼¼â€œå­¤â€æˆ–â€œå¯¡äººâ€ã€‚' },
    { visual: 'ç®€', question: 'ç ”ç©¶æ¥šæ–‡å­—æœ€é‡è¦çš„å‡ºåœŸæ–‡ç‰©è½½ä½“æ˜¯ï¼Ÿ', options: ['ç¾Šçš®çº¸', 'ç«¹ç®€', 'çŸ³ç¢‘', 'é™¶ç‰‡'], answer: 1, explanation: 'ã€ç«¹ç®€ã€‘å¦‚éƒ­åº—æ¥šç®€ã€æ¸…åç®€ï¼Œä¿ç•™äº†å¤§é‡æˆ˜å›½æ¥šå¢¨è¿¹ã€‚' },
    { visual: 'éƒ¢', question: 'æ¥šå›½éƒ½åŸâ€œéƒ¢â€åœ¨æ–‡å­—å­¦ä¸Šçš„æœ¬æ„ä¸ä»€ä¹ˆæœ‰å…³ï¼Ÿ', options: ['é«˜å±±', 'ç”°åœ°', 'åŸæ± ', 'æ°´æµ'], answer: 2, explanation: 'ã€åŸæ± ã€‘éƒ¢åœ¨æ¥šè¯­ä¸­å³ä¸ºå›½éƒ½ã€åŸæ± ä¹‹æ„ã€‚' },
    { visual: 'å¾’', question: 'æ¥šå›½å®˜èŒâ€œè«æ•–â€çš„ä¸»è¦èŒè´£æ¶‰åŠï¼Ÿ', options: ['ç¥­ç¥€', 'å¤–äº¤', 'å†œè€•', 'åˆ‘ç½š'], answer: 1, explanation: 'ã€å¤–äº¤ã€‘è«æ•–æ˜¯æ¥šå›½ç‹¬æœ‰çš„é«˜å®˜ï¼Œæ—©æœŸæŒç®¡å†›äº‹ï¼Œåå¤šè´Ÿè´£å¤–äº¤ã€‚' },
    { visual: 'åœ', question: 'æ¥šåœ°å‡ºåœŸçš„ã€ŠåŒ…å±±æ¥šç®€ã€‹ä¸»è¦è®°å½•äº†ä»€ä¹ˆå†…å®¹ï¼Ÿ', options: ['è¯—æ­Œ', 'å¸æ³•æ–‡ä¹¦', 'é£Ÿè°±', 'å°è¯´'], answer: 1, explanation: 'ã€å¸æ³•æ–‡ä¹¦ã€‘åŒ…å±±æ¥šç®€è®°å½•äº†å¤§é‡å½“æ—¶çš„è¯‰è®¼å’Œå¸æ³•æ¡£æ¡ˆã€‚' },
    { visual: 'å', question: 'æ¥šäººåå­—ä¸­å¸¸å¸¦æœ‰â€œè‹¥â€å­—ï¼ˆå¦‚è‹¥æ•–ï¼‰ï¼Œå…¶å«ä¹‰å¤šå…³è”ï¼Ÿ', options: ['ç¥çµ', 'é¡ºä»', 'åƒ', 'é€‰æ‹©'], answer: 2, explanation: 'ã€åƒã€‘åœ¨å¤æ¥šè¯­å¢ƒä¸­ï¼Œå¸¸æœ‰é€šè¿‡åå­—è¡¨è¾¾æŸç§å¸Œå†€æˆ–ç‰¹å¾ã€‚' },
    { visual: 'äº›', question: 'ã€Šæ¥šè¾Â·æ‹›é­‚ã€‹ä¸­å¥å°¾å¸¸ç”¨çš„â€œäº›â€å­—ï¼Œè¯»éŸ³å…¶å®æ¥è¿‘ï¼Ÿ', options: ['xiÄ“', 'suÅ', 'shÃ ', 'hÄ'], answer: 1, explanation: 'ã€suÅã€‘åœ¨æ¥šæ–¹è¨€åŸè¯µä¸­ï¼Œâ€œäº›â€æ˜¯è¯­åŠ©è¯ï¼Œè¯»éŸ³å¤ç‰¹ã€‚' },
    { visual: 'å…®', question: 'æ¥šè¾ä¸­æœ€å…·ä»£è¡¨æ€§çš„è¯­æ°”åŠ©è¯æ˜¯ï¼Ÿ', options: ['ä¹‹', 'ä¹', 'è€…', 'å…®'], answer: 3, explanation: 'ã€å…®ã€‘â€œå…®â€å­—æ˜¯éªšä½“è¯—çš„çµé­‚ï¼Œè°ƒèŠ‚èŠ‚å¥ä¸æƒ…æ„Ÿã€‚' },

    // --- å†å²/äººç‰©ç±» (10é¢˜) ---
    { visual: 'éœ¸', question: 'æ˜¥ç§‹äº”éœ¸ä¸­ï¼Œä¸€é¸£æƒŠäººçš„æ¥šå›½å›½å›æ˜¯ï¼Ÿ', options: ['æ¥šæ­¦ç‹', 'æ¥šåº„ç‹', 'æ¥šæ€€ç‹', 'æ¥šå¹³ç‹'], answer: 1, explanation: 'ã€æ¥šåº„ç‹ã€‘é—®é¼ä¸­åŸï¼Œä¸€é¸£æƒŠäººï¼Œæ˜¯è‘—åçš„æ˜¥ç§‹éœ¸ä¸»ã€‚' },
    { visual: 'å±ˆ', question: 'å±ˆåŸæŠ•æ±Ÿæ®‰å›½çš„åœ°ç‚¹æ˜¯ï¼Ÿ', options: ['é»„æ²³', 'é•¿æ±Ÿ', 'æ±¨ç½—æ±Ÿ', 'æ±‰æ°´'], answer: 2, explanation: 'ã€æ±¨ç½—æ±Ÿã€‘å…¬å…ƒå‰278å¹´ï¼Œå±ˆåŸäºæ±¨ç½—æ±Ÿæ€€çŸ³è‡ªæ²‰ã€‚' },
    { visual: 'æ˜¥', question: 'æˆ˜å›½å››å…¬å­ä¸­ï¼Œå±äºæ¥šå›½çš„æ˜¯ï¼Ÿ', options: ['å­Ÿå°å›', 'å¹³åŸå›', 'ä¿¡é™µå›', 'æ˜¥ç”³å›'], answer: 3, explanation: 'ã€æ˜¥ç”³å›ã€‘é»„æ­‡ï¼Œæ¥šå›½ä»¤å°¹ï¼Œæˆ˜å›½å››å…¬å­ä¹‹ä¸€ã€‚' },
    { visual: 'ä¼', question: 'å› çˆ¶å…„è¢«æ€è€Œå›æ¥šå¥”å´ï¼Œæœ€ç»ˆæ”»ç ´éƒ¢éƒ½çš„åå°†æ˜¯ï¼Ÿ', options: ['å­™æ­¦', 'ä¼å­èƒ¥', 'ç™½èµ·', 'å´èµ·'], answer: 1, explanation: 'ã€ä¼å­èƒ¥ã€‘é€šè¿‡é­å°¸æ¥šå¹³ç‹æŠ¥äº†çˆ¶å…„ä¹‹ä»‡ã€‚' },
    { visual: 'å´', question: 'æ¥šæ‚¼ç‹ä»»ç”¨å“ªä½æ”¹é©å®¶è¿›è¡Œäº†å˜æ³•ï¼Ÿ', options: ['å•†é…', 'ææ–¯', 'å´èµ·', 'éŸ©é'], answer: 2, explanation: 'ã€å´èµ·ã€‘å´èµ·å˜æ³•ä½¿æ¥šå›½ä¸€åº¦å¼ºç››ï¼Œæ‰“å‡»äº†è´µæ—åŠ¿åŠ›ã€‚' },
    { visual: 'ç¾', question: 'â€œæ¥šç‹å¥½ç»†è…°â€ä¸­çš„æ¥šç‹æŒ‡çš„æ˜¯ï¼Ÿ', options: ['æ¥šçµç‹', 'æ¥šåº„ç‹', 'æ¥šå¨ç‹', 'æ¥šæ€€ç‹'], answer: 0, explanation: 'ã€æ¥šçµç‹ã€‘ç« åå®«ä¸­å¤šé¥¿æ­»ï¼Œåªå› æ¥šç‹å¥½ç»†è…°ã€‚' },
    { visual: 'å¥³', question: 'ä¼ è¯´ä¸­æ¥šäººçš„å§‹ç¥–æ˜¯ï¼Ÿ', options: ['é»„å¸', 'ç‚å¸', 'é¢›é¡¼', 'ç¥è'], answer: 2, explanation: 'ã€é¢›é¡¼ã€‘å±ˆåŸã€Šç¦»éªšã€‹äº‘ï¼šâ€œå¸é«˜é˜³ä¹‹è‹—è£”å…®â€ï¼Œé«˜é˜³æ°å³é¢›é¡¼ã€‚' },
    { visual: 'ç«', question: 'æ¥šå›½å…¬æ—å°Šå¥‰çš„ç«ç¥æ˜¯ï¼Ÿ', options: ['ç¥è', 'å…±å·¥', 'ä¼ç¾²', 'å¥³å¨²'], answer: 0, explanation: 'ã€ç¥èã€‘æ¥šäººè‡ªè§†ä¸ºç¥èä¹‹åï¼Œå´‡å°šç«ä¸çº¢è‰²ã€‚' },
    { visual: 'ç†Š', question: 'æ¥šå›½å›ä¸»çš„å§“æ°æ˜¯â€œèŠˆâ€ï¼Œé‚£ä»–ä»¬çš„æ°é€šå¸¸æ˜¯ï¼Ÿ', options: ['å±ˆ', 'æ™¯', 'æ˜­', 'ç†Š'], answer: 3, explanation: 'ã€ç†Šã€‘æ¥šå›½ç‹æ—ä¸ºèŠˆå§“ç†Šæ°ã€‚' },
    { visual: 'å“­', question: 'ç”³åŒ…èƒ¥ä¸ºæ±‚ç§¦å›½å‡ºå…µæ•‘æ¥šï¼Œåœ¨ç§¦åº­ç—›å“­äº†å‡ æ—¥ï¼Ÿ', options: ['3æ—¥', '7æ—¥', '10æ—¥', '1æ—¥'], answer: 1, explanation: 'ã€7æ—¥ã€‘ç”³åŒ…èƒ¥å“­ç§¦åº­ä¸ƒæ—¥ä¸ƒå¤œï¼Œç»ˆæ„ŸåŠ¨ç§¦å“€å…¬ã€‚' },

    // --- æ–‡ç‰©/è‰ºæœ¯ç±» (10é¢˜) ---
    { visual: 'é¼', question: 'ç°å­˜æœ€å¤§çš„é’é“œé¼â€œå¸æ¯æˆŠé¼â€å±äºå•†ä»£ï¼Œé‚£æ¥šå¤§é¼åˆåï¼Ÿ', options: ['æ¯›å…¬é¼', 'å¤§å…‹é¼', 'é“¸å®¢å¤§é¼', 'æ•£æ°ç›˜'], answer: 2, explanation: 'ã€é“¸å®¢å¤§é¼ã€‘åˆåæ¥šå¤§é¼ï¼Œæ˜¯æˆ˜å›½æ—¶æœŸæ¥šå›½é’é“œå™¨çš„ä»£è¡¨ã€‚' },
    { visual: 'é¹¤', question: 'æ¹–åŒ—éšå·å‡ºåœŸçš„é’é“œå™¨çå“æ˜¯ï¼Ÿ', options: ['å››ç¾Šæ–¹å°Š', 'æ›¾ä¾¯ä¹™ç¼–é’Ÿ', 'é©¬è¸é£ç‡•', 'è¶Šç‹å‹¾è·µå‰‘'], answer: 1, explanation: 'ã€æ›¾ä¾¯ä¹™ç¼–é’Ÿã€‘æˆ˜å›½æ—©æœŸæ–‡ç‰©ï¼Œä»£è¡¨äº†æ¥šåœ°éŸ³ä¹æ–‡åŒ–çš„å·…å³°ã€‚' },
    { visual: 'é¹¿', question: 'æ¥šå¢“ä¸­å¸¸è§çš„â€œé•‡å¢“å…½â€é€šå¸¸ç”±ä»€ä¹ˆæè´¨åˆ¶æˆï¼Ÿ', options: ['é’é“œ', 'å½©ç»˜æ¼†æœ¨', 'é™¶åœŸ', 'ç‰çŸ³'], answer: 1, explanation: 'ã€å½©ç»˜æ¼†æœ¨ã€‘æ¥šå›½æ¼†å™¨å·¥è‰ºæå‘è¾¾ï¼Œé•‡å¢“å…½å¤šä¸ºæ¼†æœ¨åˆ¶ä½œï¼Œé€ å‹å¥‡è¯¡ã€‚' },
    { visual: 'é¼“', question: 'æ¥šæ–‡åŒ–ä¸­å¸¸è§çš„ä¹å™¨ï¼Œæ”¾ç½®åœ¨è™åº§é¸Ÿæ¶ä¹‹ä¸Šçš„æ˜¯ï¼Ÿ', options: ['ç¼–é’Ÿ', 'æ‚¬é¼“', 'ç´', 'ç‘Ÿ'], answer: 1, explanation: 'ã€æ‚¬é¼“ã€‘å³â€œè™åº§é¸Ÿæ¶é¼“â€ï¼Œæ˜¯æ¥šå›½ç‰¹æœ‰çš„ä¹å™¨æ¶åº§ã€‚' },
    { visual: 'å¸›', question: 'é•¿æ²™å­å¼¹åº“å‡ºåœŸçš„ã€Šäººç‰©é¾™å‡¤å›¾ã€‹æ˜¯ç°å­˜æœ€æ—©çš„ï¼Ÿ', options: ['å±±æ°´ç”»', 'å¸›ç”»', 'å£ç”»', 'ç‰ˆç”»'], answer: 1, explanation: 'ã€å¸›ç”»ã€‘æ¥šå›½å¸›ç”»æ˜¯ä¸­å›½ç»˜ç”»å²ä¸Šçš„ç‘°å®ã€‚' },
    { visual: 'å°Š', question: 'æ›¾ä¾¯ä¹™å¢“å‡ºåœŸçš„â€œå°Šç›˜â€ä½¿ç”¨äº†å“ªç§é«˜è¶…å·¥è‰ºï¼Ÿ', options: ['å¤±èœ¡æ³•', 'èŒƒé“¸æ³•', 'é”»æ‰“', 'éé‡‘'], answer: 0, explanation: 'ã€å¤±èœ¡æ³•ã€‘å°Šç›˜çº¹é¥°ç¹å¤é€ç©ºï¼Œè¢«è®¤ä¸ºæ˜¯å¤±èœ¡æ³•çš„å·…å³°ä¹‹ä½œã€‚' },
    { visual: 'å‰‘', question: 'å‡ºåœŸäºæ¥šå¢“ï¼Œå´å±äºè¶Šå›½å›½å›çš„ç»ä¸–å®å‰‘æ˜¯ï¼Ÿ', options: ['å¹²å°†', 'è«é‚ª', 'é±¼è‚ ', 'è¶Šç‹å‹¾è·µå‰‘'], answer: 3, explanation: 'ã€è¶Šç‹å‹¾è·µå‰‘ã€‘å‡ºåœŸäºæ¹–åŒ—æ±Ÿé™µæœ›å±±ä¸€å·æ¥šå¢“ã€‚' },
    { visual: 'ç‰', question: 'æ¥šäººå–œç‰ï¼Œæ¥šæ–‡åŒ–ä¸­ç‰ç’§å¸¸ç”¨äºï¼Ÿ', options: ['è´§å¸', 'ç¥­ç¥€ä¸è£…é¥°', 'å…µå™¨', 'é£Ÿå™¨'], answer: 1, explanation: 'ã€ç¥­ç¥€ä¸è£…é¥°ã€‘ç‰ç’§æ—¢æ˜¯ç¤¼å¤©ä¹‹å™¨ï¼Œä¹Ÿæ˜¯è´µæ—èº«ä»½è±¡å¾ã€‚' },
    { visual: 'æ¼†', question: 'æ¥šå›½æ¼†å™¨æœ€å¸¸ç”¨çš„ä¸¤ç§é¢œè‰²æ˜¯ï¼Ÿ', options: ['é’ä¸ç™½', 'çº¢ä¸é»‘', 'é»„ä¸ç»¿', 'è“ä¸ç´«'], answer: 1, explanation: 'ã€çº¢ä¸é»‘ã€‘â€œæœ±ç”»å…¶å†…ï¼Œé»‘è´¨å…¶å¤–â€ï¼Œçº¢é»‘é…è‰²æ˜¯æ¥šæ¼†å™¨çš„ç»å…¸è‰²è°ƒã€‚' },
    { visual: 'æ¯', question: 'æ¥šå¼æ¼†å™¨ä¸­ä¸€ç§åŒè€³æ¯ï¼Œä¿—ç§°ä»€ä¹ˆï¼Ÿ', options: ['ç¾½è§', 'çˆµ', 'è§š', 'è§¥'], answer: 0, explanation: 'ã€ç¾½è§ã€‘è€³æ¯ï¼Œä¸¤ä¾§æœ‰è€³ï¼Œåƒé¸Ÿçš„åŒç¿¼ï¼Œæ•…åç¾½è§ã€‚' },

    // --- åœ°ç†/é£ä¿—/ç¥è¯ (10é¢˜) ---
    { visual: 'å‡¤', question: 'æ¥šäººæœ€å´‡æ‹œçš„å›¾è…¾ç¥å…½æ˜¯ï¼Ÿ', options: ['é¾™', 'è™', 'å‡¤', 'é¾Ÿ'], answer: 2, explanation: 'ã€å‡¤ã€‘æ¥šäººå´‡å‡¤ï¼Œâ€œå‡¤çš‡â€æ˜¯è‡³é«˜æ— ä¸Šçš„è±¡å¾ã€‚' },
    { visual: 'å·«', question: 'æ¥šæ–‡åŒ–å¸¦æœ‰æµ“åšçš„ç¥ç§˜è‰²å½©ï¼Œè¿™ç§æ–‡åŒ–ä¼ ç»Ÿè¢«ç§°ä¸ºï¼Ÿ', options: ['å„’å®¶æ–‡åŒ–', 'å·«å‚©æ–‡åŒ–', 'æ³•å®¶æ–‡åŒ–', 'ä½›æ•™æ–‡åŒ–'], answer: 1, explanation: 'ã€å·«å‚©æ–‡åŒ–ã€‘â€œä¿¡é¬¼å¥½ç¥€â€æ˜¯æ¥šé£ä¿—çš„ä¸€å¤§ç‰¹å¾ã€‚' },
    { visual: 'æ³½', question: 'æ¥šå›½å¢ƒå†…æ›¾ç»å­˜åœ¨çš„å·¨å¤§æ¹–æ³Šï¼Œå¤ç§°ï¼Ÿ', options: ['æ´åº­æ¹–', 'é„±é˜³æ¹–', 'äº‘æ¢¦æ³½', 'å¤ªæ¹–'], answer: 2, explanation: 'ã€äº‘æ¢¦æ³½ã€‘å…ˆç§¦æ—¶æœŸæ¥šåœ°è‘—åçš„å·¨å¤§æ¹–æ³Šæ²¼æ³½åŒºã€‚' },
    { visual: 'æ±Ÿ', question: 'æ¥šå›½æ ¸å¿ƒç»Ÿæ²»åŒºåŸŸä¸»è¦ä½äºå“ªä¸ªæµåŸŸï¼Ÿ', options: ['é»„æ²³', 'é•¿æ±Ÿ', 'ç æ±Ÿ', 'æ·®æ²³'], answer: 1, explanation: 'ã€é•¿æ±Ÿã€‘æ¥šå›½å‘æºäºæ±‰æ±Ÿï¼Œå…´ç››äºé•¿æ±Ÿä¸­æ¸¸ã€‚' },
    { visual: 'æœ', question: 'æ²ˆä»æ–‡ã€Šä¸­å›½å¤ä»£æœé¥°ç ”ç©¶ã€‹ä¸­æåˆ°æ¥šäººæœé¥°ç‰¹å¾æ˜¯ï¼Ÿ', options: ['å®½è¢å¤§è¢–', 'çŸ­è¡£çª„è¢–', 'èƒ¡æœéª‘å°„', 'å³è¡½æ·±è¡£'], answer: 0, explanation: 'ã€å®½è¢å¤§è¢–ã€‘æ¥šåœ°ä¸ç»‡ä¸šå‘è¾¾ï¼Œè´µæ—æœé¥°å¤šé£˜é€¸å®½å¤§ã€‚' },
    { visual: 'å°', question: 'æ¥šçµç‹ä¿®å»ºçš„å¤©ä¸‹ç¬¬ä¸€å°æ˜¯ï¼Ÿ', options: ['é“œé›€å°', 'ç« åå°', 'ç…çŠå°', 'é¹¿å°'], answer: 1, explanation: 'ã€ç« åå°ã€‘åˆç§°ç»†è…°å®«ï¼Œæå°½å¥¢åã€‚' },
    { visual: 'å…°', question: 'å±ˆåŸã€Šç¦»éªšã€‹ä¸­å¸¸ç”¨æ¥æ¯”å–»å›å­ç¾å¾·çš„æ¤ç‰©æ˜¯ï¼Ÿ', options: ['ç‰¡ä¸¹', 'å…°è‰', 'ç«ç‘°', 'æŸ³æ ‘'], answer: 1, explanation: 'ã€å…°è‰ã€‘é¦™è‰ç¾äººä½“ç³»ä¸­ï¼Œå…°ã€èŠ·ã€è•™çš†å–»ç¾å¾·ã€‚' },
    { visual: 'ç¥', question: 'ã€Šä¹æ­Œã€‹ä¸­æŒç®¡å¯¿å‘½ä¸ç”Ÿæ­»çš„ç”·ç¥æ˜¯ï¼Ÿ', options: ['ä¸œçš‡å¤ªä¸€', 'äº‘ä¸­å›', 'å¤§å¸å‘½', 'æ²³ä¼¯'], answer: 2, explanation: 'ã€å¤§å¸å‘½ã€‘å¤§å¸å‘½ä¸»å¯¿ï¼Œå°‘å¸å‘½ä¸»å­å—£ã€‚' },
    { visual: 'å±±', question: 'æ¥šå›½ç¥è¯ä¸­ï¼Œå·«å±±ç¥å¥³çš„æ•…äº‹å‘ç”Ÿäºï¼Ÿ', options: ['å·«å±±', 'æ³°å±±', 'è¡¡å±±', 'æ˜†ä»‘å±±'], answer: 0, explanation: 'ã€å·«å±±ã€‘å®‹ç‰ã€Šé«˜å”èµ‹ã€‹è®°è½½äº†æ¥šè¥„ç‹æ¢¦ä¼šå·«å±±ç¥å¥³ä¹‹äº‹ã€‚' },
    { visual: 'èˆŸ', question: 'ç«¯åˆèŠ‚èµ›é¾™èˆŸçš„ä¹ ä¿—æœ€åˆèµ·æºäºï¼Ÿ', options: ['ä¸­åŸ', 'å´è¶Šä¸æ¥š', 'å·´èœ€', 'å²­å—'], answer: 1, explanation: 'ã€å´è¶Šä¸æ¥šã€‘é¾™èˆŸç«æ¸¡æ˜¯å—æ–¹æ°´ä¹¡ç¥­ç¥€é¾™å›¾è…¾çš„ä¹ ä¿—ï¼Œåä¸çºªå¿µå±ˆåŸç»“åˆã€‚' },

    // --- æ‚é¡¹/è¶£å‘³ (10é¢˜) ---
    { visual: 'å¸', question: 'æ¥šå›½ç‰¹æœ‰çš„é“œè´å¸ï¼Œå› å½¢çŠ¶æ€ªå¼‚ä¿—ç§°ï¼Ÿ', options: ['åˆ€å¸', 'èšé¼»é’±', 'å¸ƒå¸', 'åœ†é’±'], answer: 1, explanation: 'ã€èšé¼»é’±ã€‘åˆç§°é¬¼è„¸é’±ï¼Œæ–‡å­—åƒèš‚èšæˆ–é¬¼è„¸ã€‚' },
    { visual: 'å§“', question: 'ä»¥ä¸‹å“ªä¸ªå§“æ°èµ·æºäºæ¥šå›½å…¬æ—ï¼Ÿ', options: ['èµµ', 'å±ˆ', 'å§œ', 'å§¬'], answer: 1, explanation: 'ã€å±ˆã€‘å±ˆã€æ™¯ã€æ˜­æ˜¯æ¥šå›½çš„ä¸‰å¤§å…¬æ—å¤§å§“ã€‚' },
    { visual: 'è¯­', question: 'æˆè¯­â€œç­šè·¯è“ç¼•â€è®²çš„æ˜¯è°åˆ›ä¸šçš„è‰°è¾›ï¼Ÿ', options: ['æ¥šå›½å…ˆç¥–', 'ç§¦å›½å…ˆç¥–', 'é½å›½å…ˆç¥–', 'æ™‹å›½å…ˆç¥–'], answer: 0, explanation: 'ã€æ¥šå›½å…ˆç¥–ã€‘â€œç­šè·¯è“ç¼•ï¼Œä»¥å¯å±±æ—â€ï¼Œæè¿°æ¥šå…ˆæ°‘åœ¨è†å±±åˆ›ä¸šä¹‹éš¾ã€‚' },
    { visual: 'é—®', question: 'â€œé—®é¼ä¸­åŸâ€è¿™ä¸ªå…¸æ•…æœ€åˆå‘ç”Ÿåœ¨å“ªé‡Œï¼Ÿ', options: ['æ´›é˜³', 'å’¸é˜³', 'é‚¯éƒ¸', 'ä¸´æ·„'], answer: 0, explanation: 'ã€æ´›é˜³ã€‘æ¥šåº„ç‹é™ˆå…µå‘¨éƒŠï¼ˆæ´›é˜³é™„è¿‘ï¼‰ï¼Œå‘å‘¨å¤©å­ä½¿è€…è¯¢é—®ä¹é¼è½»é‡ã€‚' },
    { visual: 'çŒ¿', question: 'â€œä¸¤å²¸çŒ¿å£°å•¼ä¸ä½â€æå†™çš„æ˜¯å“ªé‡Œçš„æ™¯è±¡ï¼Ÿ', options: ['ä¸‰å³¡', 'è¥¿æ¹–', 'é»„æ²³', 'ç§¦æ·®æ²³'], answer: 0, explanation: 'ã€ä¸‰å³¡ã€‘ä¸‰å³¡æ›¾æ˜¯æ¥šå›½è…¹åœ°ï¼ŒçŒ¿é¸£æ˜¯å½“åœ°ç‰¹è‰²ã€‚' },
    { visual: 'æ©˜', question: 'â€œåçš‡å˜‰æ ‘ï¼Œæ©˜é›·å—å‘½â€å‡ºè‡ªå±ˆåŸçš„ï¼Ÿ', options: ['ã€Šå¤©é—®ã€‹', 'ã€Šæ©˜é¢‚ã€‹', 'ã€Šå±±é¬¼ã€‹', 'ã€Šå›½æ®‡ã€‹'], answer: 1, explanation: 'ã€ã€Šæ©˜é¢‚ã€‹ã€‘å€Ÿå’æ©˜æ¥è¨€å¿—ã€‚' },
    { visual: 'æˆ˜', question: 'ç§¦æ¥šä¸¹é˜³ä¹‹æˆ˜ï¼Œæ¥šå›½å¤§è´¥ï¼Œå¤±å»äº†å“ªç‰‡æˆ˜ç•¥è¦åœ°ï¼Ÿ', options: ['æ²³è¥¿', 'æ±‰ä¸­', 'é™‡è¥¿', 'ä¸Šå…š'], answer: 1, explanation: 'ã€æ±‰ä¸­ã€‘æ±‰ä¸­ä¹‹æˆ˜çš„å¤±è´¥ï¼Œä½¿æ¥šå›½å¤±å»äº†å¯¹ç§¦å›½çš„å±éšœã€‚' },
    { visual: 'è¶³', question: 'æˆè¯­â€œç”»è›‡æ·»è¶³â€çš„æ•…äº‹å‘ç”Ÿåœ¨å“ªä¸ªå›½å®¶ï¼Ÿ', options: ['èµµå›½', 'é­å›½', 'æ¥šå›½', 'é½å›½'], answer: 2, explanation: 'ã€æ¥šå›½ã€‘ã€Šæˆ˜å›½ç­–Â·é½ç­–äºŒã€‹è®°è½½ï¼Œæ¥šæœ‰ç¥ è€…ï¼Œèµå…¶èˆäººå®é…’ï¼Œèˆäººç”»è›‡æ·»è¶³ã€‚' },
    { visual: 'ç´', question: 'ä¿ä¼¯ç‰™æ‘”ç´è°¢çŸ¥éŸ³ï¼ˆé’Ÿå­æœŸï¼‰çš„æ•…äº‹å‘ç”Ÿåœ¨æ¥šåœ°ï¼Œè¿™æŠŠç´æ˜¯ï¼Ÿ', options: ['å¤ç­', 'ç‘¶ç´', 'çµç¶', 'äºŒèƒ¡'], answer: 1, explanation: 'ã€ç‘¶ç´ã€‘ä¼¯ç‰™é¼“ç´ï¼Œå¿—åœ¨é«˜å±±æµæ°´ã€‚' },
    { visual: 'ç›¾', question: 'â€œè‡ªç›¸çŸ›ç›¾â€è¿™ä¸ªå¯“è¨€ä¸­ï¼Œå–çŸ›å’Œç›¾çš„äººæ˜¯å“ªé‡Œäººï¼Ÿ', options: ['æ¥šäºº', 'éƒ‘äºº', 'é²äºº', 'å®‹äºº'], answer: 0, explanation: 'ã€æ¥šäººã€‘â€œæ¥šäººæœ‰é¬»ç›¾ä¸çŸ›è€…...â€ã€‚' }
];

// ==================== æ¸¸æˆé€»è¾‘æ§åˆ¶ ====================

const game = {
    currentQuestions: [], // å½“å‰å±€æŠ½å–çš„5é¢˜
    currentIdx: 0,        // å½“å‰ç¬¬å‡ é¢˜ (0-4)
    score: 0,             // å¾—åˆ†
    isAnswering: false,   // æ˜¯å¦æ­£åœ¨ç­”é¢˜ï¼ˆé˜²æ­¢é‡å¤ç‚¹å‡»ï¼‰

    // è·å– DOM å…ƒç´ è¾…åŠ©å‡½æ•°
    getUI: function() {
        return {
            startScreen: document.getElementById('start-screen'),
            gameScreen: document.getElementById('game-screen'),
            endScreen: document.getElementById('end-screen'),

            questionVisual: document.getElementById('question-visual'),
            questionText: document.getElementById('question-text'),
            optionsContainer: document.getElementById('options-container'),

            currentNum: document.getElementById('current-num'),
            feedbackArea: document.getElementById('feedback-area'),
            explanationText: document.getElementById('explanation-text'),
            nextBtn: document.getElementById('next-btn'),

            finalScore: document.getElementById('final-score'),
            finalMessage: document.getElementById('final-message')
        };
    },

    // 1. å¼€å§‹æ¸¸æˆï¼šåˆå§‹åŒ–å¹¶éšæœºæŠ½å–
    start: function() {
        // éšæœºæ‰“ä¹±å®Œæ•´é¢˜åº“ï¼Œå–å‰5ä¸ª
        const shuffled = [...fullQuestionLibrary].sort(() => 0.5 - Math.random());
        this.currentQuestions = shuffled.slice(0, 5);

        this.currentIdx = 0;
        this.score = 0;

        const ui = this.getUI();
        ui.startScreen.classList.add('hidden');
        ui.endScreen.classList.add('hidden');
        ui.gameScreen.classList.remove('hidden');

        this.loadQuestion();
    },

    // 2. åŠ è½½å½“å‰é¢˜ç›®
    loadQuestion: function() {
        const data = this.currentQuestions[this.currentIdx];
        const ui = this.getUI();
        this.isAnswering = true;

        // æ›´æ–°è¿›åº¦
        ui.currentNum.innerText = this.currentIdx + 1;

        // é‡ç½®åé¦ˆåŒº
        ui.nextBtn.classList.add('hidden');
        ui.explanationText.innerHTML = '';
        ui.optionsContainer.innerHTML = '';

        // è®¾ç½®é¢˜ç›®å†…å®¹
        ui.questionVisual.innerText = data.visual;
        // å¦‚æœ visual æ˜¯å•å­—ï¼Œä¿æŒå¤§å­—ä½“ï¼›å¦‚æœæ˜¯emojiï¼Œå¯ä»¥å¾®è°ƒï¼ˆè¿™é‡Œç»Ÿä¸€æ ·å¼ï¼‰
        ui.questionText.innerText = data.question;

        // åŠ¨æ€ç”Ÿæˆé€‰é¡¹æŒ‰é’®
        data.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => this.checkAnswer(index, btn);
            ui.optionsContainer.appendChild(btn);
        });
    },

    // 3. æ£€æŸ¥ç­”æ¡ˆ
    checkAnswer: function(selectedIndex, btnElement) {
        if (!this.isAnswering) return; // é˜²æ­¢é‡å¤ç‚¹å‡»
        this.isAnswering = false;

        const data = this.currentQuestions[this.currentIdx];
        const isCorrect = selectedIndex === data.answer;
        const ui = this.getUI();
        const buttons = ui.optionsContainer.children;

        // æ ·å¼åé¦ˆ
        if (isCorrect) {
            btnElement.classList.add('correct');
            this.score++;
            ui.explanationText.innerHTML = `<span style="color:#4CAF50; font-weight:bold;">ğŸ‰ æ­£ç¡®ï¼</span> ${data.explanation}`;
        } else {
            btnElement.classList.add('wrong');
            // é«˜äº®æ­£ç¡®ç­”æ¡ˆ
            buttons[data.answer].classList.add('correct');
            ui.explanationText.innerHTML = `<span style="color:#B83B28; font-weight:bold;">âŒ é”™è¯¯ï¼</span> ${data.explanation}`;
        }

        // ç¦ç”¨æ‰€æœ‰æŒ‰é’®
        Array.from(buttons).forEach(btn => btn.disabled = true);

        // æ˜¾ç¤ºâ€œä¸‹ä¸€é¢˜â€æˆ–â€œæŸ¥çœ‹ç»“æœâ€æŒ‰é’®
        ui.nextBtn.classList.remove('hidden');
        ui.nextBtn.innerText = (this.currentIdx === 4) ? "æŸ¥çœ‹ç»“æœ" : "ä¸‹ä¸€é¢˜";
    },

    // 4. è¿›å…¥ä¸‹ä¸€é¢˜æˆ–ç»“æŸ
    next: function() {
        if (this.currentIdx < 4) {
            this.currentIdx++;
            this.loadQuestion();
        } else {
            this.endGame();
        }
    },

    // æ¸¸æˆç»“æŸ
    endGame: function() {
        const ui = this.getUI();
        ui.gameScreen.classList.add('hidden');
        ui.endScreen.classList.remove('hidden');

 ui.finalScore.innerText = this.score;

        let msg = "";
        if (this.score === 5) msg = "ğŸ† æ¥šå­¦å®—å¸ˆï¼å±ˆåŸéƒ½è¦ä¸ºä½ ç‚¹èµï¼";
        else if (this.score >= 3) msg = "ğŸ“œ å­¦è¯†æ¸Šåšï¼Œç¦»ç²¾é€šæ¥šæ–‡åŒ–åªå·®ä¸€ç‚¹ç‚¹ã€‚";
        else if (this.score >= 1) msg = "ğŸ•¯ï¸ å­¦æµ·æ— æ¶¯ï¼Œå»ºè®®å»ã€èµ„æ–™åº“ã€‘å†è¿›ä¿®ä¸€ç•ªã€‚";
        else msg = "ğŸ‚ å³ä½¿å¤±è´¥ä¹Ÿæ˜¯ä¸€ç§ç»å†ï¼Œå†è¯•ä¸€æ¬¡å§ï¼";

        ui.finalMessage.innerText = msg;
    }

};

// å°† game å¯¹è±¡æŒ‚è½½åˆ° windowï¼Œç¡®ä¿ HTML ä¸­çš„ onclick="game.start()" å¯ä»¥è®¿é—®åˆ°å®ƒ
window.game = game;